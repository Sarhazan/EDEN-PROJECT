---
phase: 03-mobile-responsive-experience
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - client/src/pages/MyDayPage.jsx
  - client/src/pages/AllTasksPage.jsx
  - client/src/pages/HistoryPage.jsx
  - client/src/pages/SystemsPage.jsx
  - client/src/pages/SuppliersPage.jsx
  - client/src/pages/EmployeesPage.jsx
  - client/src/pages/LocationsPage.jsx
  - client/src/components/shared/Modal.jsx
autonomous: true

must_haves:
  truths:
    - "Task cards stack vertically in single column on mobile screens"
    - "Stats bar shows 2x2 grid on mobile instead of 1x4"
    - "All list pages show single-column layout on mobile"
    - "Modals display full-screen on mobile, centered card on desktop"
    - "Resizable columns hide on mobile, stack vertically automatically"
  artifacts:
    - path: "client/src/pages/MyDayPage.jsx"
      provides: "Responsive stats bar (grid-cols-2 mobile, grid-cols-4 desktop) and stacked columns"
      contains: "grid grid-cols-2"
    - path: "client/src/pages/AllTasksPage.jsx"
      provides: "Single-column task list on mobile"
      contains: "grid-cols-1"
    - path: "client/src/components/shared/Modal.jsx"
      provides: "Full-screen modal on mobile, centered on desktop"
      contains: "md:max-w-3xl md:rounded-2xl"
  key_links:
    - from: "All page files"
      to: "Tailwind responsive utilities"
      via: "Mobile-first breakpoints (unprefixed mobile, md: tablet, lg: desktop)"
      pattern: "grid-cols-\\d+.*md:grid-cols-\\d+"
    - from: "client/src/components/shared/Modal.jsx"
      to: "Mobile adaptation pattern"
      via: "Full-screen on mobile (w-full h-full), card on desktop (md:max-w-3xl)"
      pattern: "w-full h-full.*md:max-w"
---

<objective>
Transform all grid layouts from desktop-first to mobile-responsive using Tailwind mobile-first breakpoints. Task lists stack vertically on mobile, stats bars adapt to 2-column grids, and modals go full-screen for better mobile UX.

Purpose: Make existing features usable on small screens without horizontal scrolling or cramped layouts
Output: All pages render correctly on mobile (<768px) with single or dual-column layouts
</objective>

<execution_context>
@c:\dev\projects\claude projects\eden claude\.claude\get-shit-done\workflows\execute-plan.md
@c:\dev\projects\claude projects\eden claude\.claude\get-shit-done\templates\summary.md
</execution_context>

<context>
@c:\dev\projects\claude projects\eden claude\.planning\PROJECT.md
@c:\dev\projects\claude projects\eden claude\.planning\ROADMAP.md
@c:\dev\projects\claude projects\eden claude\.planning\STATE.md
@c:\dev\projects\claude projects\eden claude\.planning\phases\03-mobile-responsive-experience\03-CONTEXT.md
@c:\dev\projects\claude projects\eden claude\.planning\phases\03-mobile-responsive-experience\03-RESEARCH.md
@c:\dev\projects\claude projects\eden claude\.planning\codebase\STRUCTURE.md
@c:\dev\projects\claude projects\eden claude\.planning\codebase\CONVENTIONS.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Transform MyDayPage stats bar and column layout for mobile</name>
  <files>
    client/src/pages/MyDayPage.jsx
  </files>
  <action>
Read client/src/pages/MyDayPage.jsx and apply mobile-first responsive transformations:

**Stats bar grid (MOB-GRID-03):**
- Find the stats grid container (currently grid-cols-4)
- Change to: `grid grid-cols-2 gap-4 mb-6 md:grid-cols-4`
- Mobile: 2x2 grid (2 stats per row)
- Desktop (md: = 768px+): 1x4 grid (all 4 stats in one row)
- Research reference: Example 4 demonstrates this exact transformation

**Main columns layout (MOB-GRID-01, MOB-GRID-02):**
- Find the resizable columns container (uses re-resizable with flex)
- The existing lg:hidden and lg:flex patterns already handle desktop (>=1024px)
- Ensure mobile (<1024px) view stacks columns vertically
- Mobile should use: `flex flex-col gap-6` (stacked, no resizable divider)
- Desktop (lg:) should use: existing re-resizable flex layout
- Verify re-resizable components only render when lg: breakpoint active

**Column content grids (MOB-GRID-01, MOB-GRID-02):**
- "משימות קבועות" (Recurring Tasks) section - find grid container
- "משימות לשבוע הקרוב" (This Week Tasks) section - find grid container
- Both should be: `grid grid-cols-1 gap-4 md:grid-cols-1` (already single column, verify no multi-column on any breakpoint)

**Why md: not lg: for stats:** Stats bar should expand to 4 columns on tablets (768px+), not wait for desktop (1024px+). Research shows md: is appropriate for this type of content reflow.

**Critical insight from research pitfall 5:** Grid column collapse without min-width causes unreadable content. The grid-cols-2 mobile approach prevents this by giving each stat card adequate width (~160px on 320px phone).

NO semicolons (Eden client convention).
  </action>
  <verify>
- Stats grid uses `grid-cols-2 md:grid-cols-4` pattern
- Mobile layout (<1024px) shows stacked columns (flex-col)
- Desktop layout (>=1024px) shows resizable horizontal columns
- No horizontal scrolling on mobile viewports
- Re-resizable components only render on lg: breakpoint
  </verify>
  <done>
- MyDayPage stats bar displays 2x2 on mobile, 1x4 on desktop (MOB-GRID-03 complete)
- Task columns stack vertically on mobile (MOB-GRID-01, MOB-GRID-02 complete)
- Resizable divider hidden on mobile, visible on desktop
- All content fits within 320px mobile viewport without scrolling
  </done>
</task>

<task type="auto">
  <name>Task 2: Transform list pages to single-column mobile layouts</name>
  <files>
    client/src/pages/AllTasksPage.jsx
    client/src/pages/HistoryPage.jsx
    client/src/pages/SystemsPage.jsx
    client/src/pages/SuppliersPage.jsx
    client/src/pages/EmployeesPage.jsx
    client/src/pages/LocationsPage.jsx
  </files>
  <action>
For EACH of the 6 page files listed, apply mobile-first responsive grid transformation:

**Identify existing grid patterns:**
- Search for className with "grid" pattern
- Common pattern: `grid grid-cols-2 gap-6` or `grid grid-cols-3 gap-6`
- Some pages may already use responsive grids, some may not

**Apply transformation (MOB-GRID-06):**
- Mobile (unprefixed): `grid grid-cols-1 gap-4`
- Tablet (md:): `md:grid-cols-2`
- Desktop (lg:): `lg:grid-cols-3` (if page had 3 columns originally) or `lg:grid-cols-2` (if page had 2)
- Gap spacing: Mobile uses gap-4 (1rem = 16px), desktop can use gap-6 (1.5rem = 24px) if desired

**Examples by page type:**

AllTasksPage.jsx:
- Task list grid: `grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-2`
- (Tasks are complex cards, 2 columns max even on desktop)

HistoryPage.jsx:
- History items grid: `grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3`
- (History cards are simpler, can do 3 columns on wide screens)

SystemsPage.jsx, SuppliersPage.jsx, EmployeesPage.jsx, LocationsPage.jsx:
- Entity cards grid: `grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3`
- (Simple entity cards can handle 3 columns on desktop)

**If page has NO explicit grid** (unlikely but check):
- Wrap items in grid container with above responsive pattern
- Preserve existing item rendering logic

**Research guidance:** Research pitfall 5 warns against grid-cols-4 on mobile (unreadable). Research Example 4 shows the grid-cols-1 → md:grid-cols-2 → lg:grid-cols-3 progressive enhancement pattern.

NO semicolons.
  </action>
  <verify>
- Each of 6 page files modified
- All grids use mobile-first pattern (grid-cols-1 unprefixed)
- Tablet breakpoint (md:) adds second column
- Desktop breakpoint (lg:) adds third column (where appropriate)
- No grid has more than 3 columns even on widest desktop screens
  </verify>
  <done>
- All list pages render single-column on mobile (MOB-GRID-06 complete)
- Cards stack vertically without horizontal scrolling
- Progressive enhancement adds columns on larger screens
- No layout breaks between 320px and 1920px viewport widths
  </done>
</task>

<task type="auto">
  <name>Task 3: Adapt Modal component for full-screen mobile display</name>
  <files>
    client/src/components/shared/Modal.jsx
  </files>
  <action>
Read client/src/components/shared/Modal.jsx and transform to mobile-responsive pattern:

**Outer container (backdrop + centering):**
- Current: likely `fixed inset-0 z-50 flex items-center justify-center p-4`
- Change to: `fixed inset-0 z-50 flex items-center justify-center p-0 md:p-4`
- Mobile: No padding (full-screen takeover)
- Desktop (md:): 16px padding (centered card with margins)

**Modal card:**
- Find the main modal content div (has bg-white, rounded, shadow)
- Current: likely has `max-w-3xl`, `max-h-[90vh]`, `rounded-2xl` unconditionally
- Transform dimensions:
  - Mobile: `w-full h-full max-w-full max-h-full rounded-none`
  - Desktop: `md:max-w-3xl md:max-h-[90vh] md:rounded-2xl`
- Structural classes (keep on all breakpoints): `relative bg-white shadow-2xl flex flex-col overflow-hidden`

**Modal header:**
- Current padding: likely `px-8 py-5`
- Change to: `px-4 py-4 md:px-8 md:py-5`
- Mobile: Compact padding (more vertical space for content)
- Desktop: Spacious padding

**Modal title:**
- Change to: `text-xl md:text-2xl font-bold text-gray-900 font-alef`
- Mobile: Smaller title (xl = 20px)
- Desktop: Larger title (2xl = 24px)

**Modal content area:**
- Current padding: likely `p-8`
- Change to: `p-4 md:p-8`
- Ensure `overflow-y-auto flex-1` for scrollable content

**Close button:**
- Already should have proper touch target (will be addressed in Plan 03)
- Ensure button remains visible and accessible in header

**Why full-screen on mobile (MOB-GRID-05):**
Research explains modals on small screens need maximum content area. Rounded corners and margins waste precious screen real estate on 320-375px devices. Full-screen also provides clearer "modal state" vs "page state" for users.

Reference: Research Example 6 shows the exact pattern.

NO semicolons.
  </action>
  <verify>
- Modal outer container has `p-0 md:p-4`
- Modal card has `w-full h-full rounded-none` base + `md:max-w-3xl md:rounded-2xl`
- Header padding is `px-4 py-4 md:px-8 md:py-5`
- Title is `text-xl md:text-2xl`
- Content padding is `p-4 md:p-8`
- Scrollable content area preserved (overflow-y-auto flex-1)
  </verify>
  <done>
- Modal displays full-screen on mobile (<768px) with no wasted space (MOB-GRID-05 complete)
- Modal displays as centered card on desktop (>=768px) with rounded corners
- Content area is scrollable when content exceeds viewport height
- Header and footer remain accessible at all viewport sizes
  </done>
</task>

</tasks>

<verification>
Overall phase checks after all tasks complete:

**Mobile layout verification (320px - 767px):**
1. MyDayPage: Stats bar shows 2x2 grid, columns stack vertically
2. AllTasksPage: Tasks in single column
3. HistoryPage: History items in single column
4. SystemsPage/SuppliersPage/EmployeesPage/LocationsPage: Entity cards in single column
5. Modal: Full-screen takeover with compact padding
6. No horizontal scrolling on any page at 320px viewport

**Tablet layout verification (768px - 1023px):**
1. MyDayPage: Stats bar shows 1x4 grid, columns still stacked (resizable only at 1024px+)
2. All list pages: 2-column grids
3. Modal: Centered card with rounded corners

**Desktop layout verification (1024px+):**
1. MyDayPage: Stats bar 1x4, resizable columns visible
2. List pages: 2-3 column grids
3. Modal: Centered card, spacious padding

**Cross-breakpoint verification:**
- Resize browser smoothly from 320px to 1920px
- No layout breaks or jumps
- All content remains readable and accessible
- Grid columns add progressively (1 → 2 → 3, never 1 → 4)
</verification>

<success_criteria>
**Must be TRUE:**
1. Task cards stack vertically in single column on mobile screens (<768px) (MOB-GRID-01 complete)
2. Stats bar shows 2x2 grid on mobile, 1x4 on desktop (MOB-GRID-03 complete)
3. MyDayPage columns stack vertically on mobile (MOB-GRID-02 complete)
4. All list pages (Systems, Suppliers, Employees, Locations) show single column on mobile (MOB-GRID-06 complete)
5. Modals are full-screen on mobile, centered card on desktop (MOB-GRID-05 complete)
6. Resizable columns hide on mobile (<1024px), show on desktop (MOB-GRID-02 complete via existing re-resizable lg: pattern)

**Measurable outcomes:**
- 8 files modified (7 pages + Modal)
- All grids use mobile-first responsive pattern (unprefixed = mobile)
- No grid exceeds 3 columns even on widest screens
- No horizontal scrolling at 320px viewport width
- Stats bar adapts from 2x2 to 1x4 at md: breakpoint (768px)
- Modal transforms from full-screen to card at md: breakpoint (768px)
</success_criteria>

<output>
After completion, create `.planning/phases/03-mobile-responsive-experience/03-02-SUMMARY.md`

Include:
- Which pages were transformed
- Breakpoint strategy (mobile-first: unprefixed, md:, lg:)
- Grid column counts per breakpoint
- Modal dimensions per breakpoint
- Any layout issues discovered during transformation
</output>

# Requirements: Eden - מערכת ניהול אחזקת מבנים

**Defined:** 2026-01-19
**Core Value:** מנהל המבנה רואה בזמן אמת מה קורה בשטח - איזה משימה הושלמה, מי עושה מה, ומה מתעכב

## v1 Requirements

### Real-Time Updates

- [ ] **RT-01**: WebSocket connection בין שרת ללקוח
- [ ] **RT-02**: עדכון מיידי במסך המנהל כשעובד מסמן משימה כהושלמה
- [ ] **RT-03**: עדכון מיידי במסך המנהל כשעובד מעלה תמונה
- [ ] **RT-04**: עדכון מיידי במסך המנהל כשעובד מוסיף הערה

### Task Completion

- [ ] **TC-01**: עובד יכול להעלות תמונה מהדף האינטראקטיבי (mobile/desktop)
- [ ] **TC-02**: עובד יכול להוסיף הערת טקסט חופשית למשימה
- [ ] **TC-03**: תמונות נשמרות כקבצים בשרת (תחת `/uploads` או דומה)
- [ ] **TC-04**: מנהל רואה תמונות והערות שצורפו למשימה בממשק הניהול
- [ ] **TC-05**: תמונות מוצגות כתצוגה מקדימה עם אפשרות הגדלה

### Task Status

- [ ] **TS-01**: סטטוסים מפורשים: `pending`, `sent`, `completed`, `late`
- [ ] **TS-02**: משימה מסומנת אוטומטית כ-`late` אם השעה הנוכחית עברה את השעה שנקבעה למשימה והיא לא הושלמה
- [ ] **TS-03**: משימות מאוחרות מוצגות בצבע אדום בממשק המנהל
- [ ] **TS-04**: שמירת timestamp מדויק של מתי משימה הושלמה בפועל (`completed_at`)
- [ ] **TS-05**: חישוב פער הזמן בין השעה המתוכננת לזמן ההשלמה בפועל

### History & Archive

- [ ] **HA-01**: משימות שהושלמו נשמרות במסד הנתונים למשך 2 שנים
- [ ] **HA-02**: עמוד היסטוריה מציג משימות שהושלמו בעבר
- [ ] **HA-03**: סינון היסטוריה לפי תאריך (טווח תאריכים)
- [ ] **HA-04**: סינון היסטוריה לפי עובד
- [ ] **HA-05**: סינון היסטוריה לפי מערכת
- [ ] **HA-06**: סינון היסטוריה לפי מיקום
- [ ] **HA-07**: סטטיסטיקות בסיסיות: כמה משימות הושלמו, כמה מאוחרות, אחוז הצלחה
- [ ] **HA-08**: ניקוי אוטומטי של משימות ישנות מ-2 שנים (cron job או scheduled task)

## v2 Requirements

דרישות שנדחו לגרסה הבאה:

- **RT-05**: התחברות מחדש אוטומטית ל-WebSocket במקרה של ניתוק - ייעשה בשלב מאוחר יותר
- **TC-06**: העלאת מספר תמונות למשימה אחת - כרגע תמונה אחת מספיקה
- **TS-06**: התרעות למנהל על משימות מאוחרות - לא בשלב ראשון
- **HA-09**: ייצוא דוחות ל-Excel/PDF - לא בשלב ראשון

## Out of Scope

דרישות שלא ייבנו בכוונה:

| Feature | Reason |
|---------|--------|
| אימות משתמשים (login/password) | המערכת פתוחה בכוונה - דפים אינטראקטיביים נגישים לכל מי שיש לו את הקישור |
| אפליקציית מובייל נפרדת | הדפים האינטראקטיביים כבר מותאמים למובייל דרך דפדפן |
| שילוב עם מערכות חיצוניות | לא רלוונטי בשלב הזה |
| דיווחים מתקדמים וגרפים | רק סטטיסטיקות בסיסיות בשלב ראשון |
| תזכורות אוטומטיות לעובדים | לא צריך - העובדים מקבלים את המשימות ב-WhatsApp |
| ניהול הרשאות ותפקידים | כולם רואים הכל |

## Traceability

מיפוי בין דרישות לפאזות יעודכן במהלך יצירת Roadmap.

| Requirement | Phase | Status |
|-------------|-------|--------|
| (יעודכן על ידי roadmapper) | | |

**Coverage:**
- v1 requirements: 24 total
- Mapped to phases: 0 (pending roadmap)
- Unmapped: 24 ⚠️

---
*Requirements defined: 2026-01-19*
*Last updated: 2026-01-19 after initial definition*
